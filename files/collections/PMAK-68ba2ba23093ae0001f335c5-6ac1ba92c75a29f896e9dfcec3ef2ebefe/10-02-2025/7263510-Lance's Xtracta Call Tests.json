{"collection":{"info":{"_postman_id":"d34a16b4-3fb1-4dac-aa22-223d5eefdc89","name":"Lance's Xtracta Call Tests","description":"https://app.xtracta.com/api.html","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json","updatedAt":"2020-08-06T19:09:52.000Z","createdAt":"2019-04-17T03:37:07.000Z","lastUpdatedBy":"7263510","uid":"7263510-d34a16b4-3fb1-4dac-aa22-223d5eefdc89"},"item":[{"name":"Get Documents (with tests)","event":[{"listen":"test","script":{"id":"cc919db6-8000-4621-b9e7-db5f31038040","exec":["var json = xml2Json(responseBody);","","var document_id = json.documents_response.document[0].document_id;","","pm.test(\"Correct Document ID\", function() {","    pm.expect(document_id).to.eql(\"113244945\");","});","","var document_type = json.documents_response.document[0].field_data.field[0].field_value;","","pm.test(\"Correct Document Type\", function() {","    pm.expect(document_type).to.eql(\"INVOICE\");","});","","//Suncorp Brand Test","function findBrand(field)","{","    return field.field_name == 'Brand';","}","","//Only run the suncorp test for the suncorp API key","//if (pm.environment.get(\"APIKey\") == '8131f9325ebf5691b88ce655c8f571717169e513')","if (pm.environment.name == 'Suncorp Test')","{","","    pm.test(\"Suncorp document contains Brand\", function() {","        pm.expect(json.documents_response.document[0].field_data.field.find(findBrand)).to.not.eql(undefined);","        //pm.expect(json.documents_response.document[0].field_data.field[20].field_name).to.eql('Brand');","    })","}","","//Check specific XML element exists","//pm.expect(json.documents_response.document[0].field_data.hasOwnProperty('Brand')).to.be.true;","","//Loop Example","// for (i = 0; i < myObj.cars.length; i++) {","//   x += myObj.cars[i];","// }"],"type":"text/javascript"}}],"id":"d5f01a4b-5494-46c7-944b-fb22978d24b2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"}],"body":{"mode":"urlencoded","urlencoded":[{"key":"api_key","value":"{{APIKey}}","description":"mandatory","type":"text"},{"key":"document_id","value":"113244945","description":"mandatory(*)","type":"text","disabled":true},{"key":"workflow_id","value":"{{WorkflowID}}","description":"mandatory(*)","type":"text"},{"key":"document_status","value":"","description":"no value,  qa, reject, output, pre-processing, indexing","type":"text","disabled":true},{"key":"api_download_status","value":"active","description":"no value, active, archived","type":"text"},{"key":"page","value":"1","type":"text"},{"key":"items_per_page","value":"2","description":"1000 max","type":"text"},{"key":"documents_order","value":"desc","description":"no value, asc, desc","type":"text"},{"key":"detailed","value":"1","description":"1 for detailed data on document list","type":"text"},{"key":"deleted","value":"","description":"1 to show only deleted documents","type":"text","disabled":true},{"key":"any_user_documents","value":"1","type":"text","disabled":true}]},"url":{"raw":"https://api-app.xtracta.com/v1/documents","protocol":"https","host":["api-app","xtracta","com"],"path":["v1","documents"]}},"response":[],"uid":"7263510-d5f01a4b-5494-46c7-944b-fb22978d24b2"}]}}