{"collection":{"info":{"_postman_id":"f78b8859-c7bd-4aa6-ac58-a285eff9a6b7","name":"Xero OAuth 2.0","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json","updatedAt":"2024-10-14T23:35:48.000Z","createdAt":"2023-10-17T03:13:31.000Z","lastUpdatedBy":"2333627","uid":"2333627-f78b8859-c7bd-4aa6-ac58-a285eff9a6b7"},"item":[{"name":"Get started","event":[{"listen":"test","script":{"id":"67fbd4c8-6ae9-4ea4-913e-9ba7509cb96d","exec":["var data = JSON.parse(responseBody);","postman.setEnvironmentVariable(\"xero-tenant-id\", data[0].TenantId);","","tests[\"xero-tenant-id: \" + pm.environment.get(\"xero-tenant-id\")] = true;"],"type":"text/javascript"}}],"id":"976a27a7-2693-4059-8b0c-6925d6ffc195","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"oauth2","oauth2":[{"key":"useBrowser","value":false,"type":"boolean"},{"key":"refreshRequestParams","value":[],"type":"any"},{"key":"tokenRequestParams","value":[],"type":"any"},{"key":"authRequestParams","value":[],"type":"any"},{"key":"challengeAlgorithm","value":"S256","type":"string"},{"key":"state","value":"12345678","type":"string"},{"key":"scope","value":"{{scopes}}","type":"string"},{"key":"redirect_uri","value":"{{re_directURI}}","type":"string"},{"key":"grant_type","value":"authorization_code","type":"string"},{"key":"clientSecret","value":"{{client_secret}}","type":"string"},{"key":"clientId","value":"{{client_id}}","type":"string"},{"key":"authUrl","value":"https://login.xero.com/identity/connect/authorize","type":"string"},{"key":"addTokenTo","value":"header","type":"string"},{"key":"client_authentication","value":"body","type":"string"},{"key":"accessTokenUrl","value":"https://identity.xero.com/connect/token","type":"string"},{"key":"accessToken","value":"","type":"string"},{"key":"tokenType","value":"Bearer","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://api.xero.com/connections","protocol":"https","host":["api","xero","com"],"path":["connections"]}},"response":[],"uid":"2333627-976a27a7-2693-4059-8b0c-6925d6ffc195"},{"name":"Connections","event":[{"listen":"test","script":{"type":"text/javascript","exec":["var data = JSON.parse(responseBody);","postman.setEnvironmentVariable(\"xero-tenant-id\", data[0].TenantId);","","tests[\"xero-tenant-id: \" + pm.environment.get(\"xero-tenant-id\")] = true;"]}}],"id":"d83d1ad2-7172-42e6-9d5f-6045266c26a6","request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"}],"url":{"raw":"https://api.xero.com/connections","protocol":"https","host":["api","xero","com"],"path":["connections"]}},"response":[],"uid":"2333627-d83d1ad2-7172-42e6-9d5f-6045266c26a6"},{"name":"Invoices","event":[{"listen":"prerequest","script":{"id":"fce2568a-2110-4b46-8c9e-b2d94c7af9ff","exec":["    tokenUrl = 'https://identity.xero.com/connect/token'","    clientId = pm.variables.get('client_id'),","    clientSecret = pm.variables.get('client_secret'),","    refreshToken = pm.variables.get('refresh_token'),","    requestOptions = {","      method: 'POST',","      url: tokenUrl,","      body: {","        mode: 'formdata',","        formdata: [","            {","                key: 'grant_type',","                value: 'refresh_token'","            },","            {","                key: 'client_id',","                value: clientId","            },","            {","                key: 'client_secret',","                value: clientSecret","            },","            {","                key: 'refresh_token',","                value: refreshToken","            }","        ]","      }","    };","","console.log({ requestOptions });","","pm.sendRequest(requestOptions, (err, response) => {","  let jsonResponse = response.json(),","      newAccessToken = jsonResponse.access_token;","      newRefreshToken = jsonResponse.refresh_token;","      ","  console.log({ err, jsonResponse, newAccessToken, newRefreshToken })","  ","  pm.environment.set('access_token', newAccessToken);","  pm.environment.set('refresh_token', newRefreshToken);","  ","});"],"type":"text/javascript"}}],"id":"c9cd122e-a408-4442-9f82-2cccc2199edb","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"xero-tenant-id","value":"{{xero-tenant-id}}","type":"text"},{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"https://api.xero.com/api.xro/2.0/TaxRates","protocol":"https","host":["api","xero","com"],"path":["api.xro","2.0","TaxRates"]},"description":"\t"},"response":[],"uid":"2333627-c9cd122e-a408-4442-9f82-2cccc2199edb"},{"name":"Create Quote","event":[{"listen":"prerequest","script":{"id":"5a8fa1ee-4e31-4a84-9765-e38309341ae6","exec":["    tokenUrl = 'https://identity.xero.com/connect/token'","    clientId = pm.variables.get('client_id'),","    clientSecret = pm.variables.get('client_secret'),","    refreshToken = pm.variables.get('refresh_token'),","    requestOptions = {","      method: 'POST',","      url: tokenUrl,","      body: {","        mode: 'formdata',","        formdata: [","            {","                key: 'grant_type',","                value: 'refresh_token'","            },","            {","                key: 'client_id',","                value: clientId","            },","            {","                key: 'client_secret',","                value: clientSecret","            },","            {","                key: 'refresh_token',","                value: refreshToken","            }","        ]","      }","    };","","console.log({ requestOptions });","","pm.sendRequest(requestOptions, (err, response) => {","  let jsonResponse = response.json(),","      newAccessToken = jsonResponse.access_token;","      newRefreshToken = jsonResponse.refresh_token;","      ","  console.log({ err, jsonResponse, newAccessToken, newRefreshToken })","  ","  pm.environment.set('access_token', newAccessToken);","  pm.environment.set('refresh_token', newRefreshToken);","  ","});"],"type":"text/javascript"}}],"id":"3e36d388-b9f3-4a1f-b935-99bf196c07b4","request":{"method":"POST","header":[{"key":"xero-tenant-id","value":"{{xero-tenant-id}}","type":"text"},{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"QuoteNumber\" : \"QUUS-00011715\",\r\n  \"Reference\" : \"something\",\r\n  \"Date\" : \"2023-10-19\",\r\n  \"ExpiryDate\" : \"2023-11-18\",\r\n  \"Total\" : 49790.00,\r\n  \"Title\" : \"Aramark IT - 14 Mar, 2025\",\r\n  \"CurrencyCode\" : \"USD\",\r\n  \"LineAmountTypes\" : \"Exclusive\",\r\n  \"Status\" : \"DRAFT\",\r\n  \"Contact\" : {\r\n    \"ContactID\" : \"b458dca2-9412-4a04-aaa1-f1d9b3b2933c\"\r\n  },\r\n  \"LineItems\" : [ {\r\n    \"Description\" : \"Development Platform 18 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 5412.00,\r\n    \"LineAmount\" : 5412.00,\r\n    \"ItemCode\" : \"Development Platform\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"AR Receipt Wizard 5 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 1503.00,\r\n    \"LineAmount\" : 1503.00,\r\n    \"ItemCode\" : \"AR Receipt Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"Customer Wizard 6 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 1804.00,\r\n    \"LineAmount\" : 1804.00,\r\n    \"ItemCode\" : \"Customer Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"EBS Tool Box - Base  {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 8900.00,\r\n    \"LineAmount\" : 8900.00,\r\n    \"ItemCode\" : \"EBS Tool Box - Base\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"PO Wizard 3 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 902.00,\r\n    \"LineAmount\" : 902.00,\r\n    \"ItemCode\" : \"PO Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"AP Invoice Wizard 57 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 17138.00,\r\n    \"LineAmount\" : 17138.00,\r\n    \"ItemCode\" : \"AP Invoice Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"AR Invoice Wizard 35 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 10523.00,\r\n    \"LineAmount\" : 10523.00,\r\n    \"ItemCode\" : \"AR Invoice Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  }, {\r\n    \"Description\" : \"Supplier Wizard 12 Users {03/14/2025-03/13/2026}\",\r\n    \"Quantity\" : 1,\r\n    \"AccountCode\" : \"209\",\r\n    \"DiscountAmount\" : 0,\r\n    \"UnitAmount\" : 3608.00,\r\n    \"LineAmount\" : 3608.00,\r\n    \"ItemCode\" : \"Supplier Wizard\",\r\n    \"TaxAmount\" : 0,\r\n    \"TaxType\" : \"ZERORATED\",\r\n    \"Tracking\" : [ {\r\n      \"Name\" : \"Dept/Salesperson/Country\",\r\n      \"Option\" : \"D: Sales\"\r\n    } ]\r\n  } ]\r\n}"},"url":{"raw":"https://api.xero.com/api.xro/2.0/Quotes","protocol":"https","host":["api","xero","com"],"path":["api.xro","2.0","Quotes"]},"description":"\t"},"response":[],"uid":"2333627-3e36d388-b9f3-4a1f-b935-99bf196c07b4"},{"name":"Create Invoice","event":[{"listen":"prerequest","script":{"id":"5a8fa1ee-4e31-4a84-9765-e38309341ae6","exec":["    tokenUrl = 'https://identity.xero.com/connect/token'","    clientId = pm.variables.get('client_id'),","    clientSecret = pm.variables.get('client_secret'),","    refreshToken = pm.variables.get('refresh_token'),","    requestOptions = {","      method: 'POST',","      url: tokenUrl,","      body: {","        mode: 'formdata',","        formdata: [","            {","                key: 'grant_type',","                value: 'refresh_token'","            },","            {","                key: 'client_id',","                value: clientId","            },","            {","                key: 'client_secret',","                value: clientSecret","            },","            {","                key: 'refresh_token',","                value: refreshToken","            }","        ]","      }","    };","","console.log({ requestOptions });","","pm.sendRequest(requestOptions, (err, response) => {","  let jsonResponse = response.json(),","      newAccessToken = jsonResponse.access_token;","      newRefreshToken = jsonResponse.refresh_token;","      ","  console.log({ err, jsonResponse, newAccessToken, newRefreshToken })","  ","  pm.environment.set('access_token', newAccessToken);","  pm.environment.set('refresh_token', newRefreshToken);","  ","});"],"type":"text/javascript","packages":{}}}],"id":"1246334e-5bb0-48d3-ac5e-e30918539d8d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"xero-tenant-id","value":"{{xero-tenant-id}}","type":"text"},{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"Type\": \"ACCREC\",\r\n  \"Contact\": {\r\n    \"ContactID\": \"0b40daba-a0c6-4bc9-a1b6-34b3d59455fc\"\r\n  },\r\n  \"DueDate\": \"\\/Date(1518685950940+0000)\\/\",\r\n  \"LineItems\": [\r\n    {\r\n      \"Description\": \"Services as agreed\",\r\n      \"Quantity\": \"7\",\r\n      \"UnitAmount\": \"100.00\",\r\n      \"AccountCode\": \"20000000\"\r\n    }\r\n  ],\r\n  \"Status\": \"DRAFT\"\r\n}"},"url":{"raw":"https://api.xero.com/api.xro/2.0/Invoices","protocol":"https","host":["api","xero","com"],"path":["api.xro","2.0","Invoices"]},"description":"\t"},"response":[],"uid":"2333627-1246334e-5bb0-48d3-ac5e-e30918539d8d"},{"name":"Branding Themes","event":[{"listen":"prerequest","script":{"id":"a56e5350-be87-418a-b0ea-88dd41afc8d4","exec":["    tokenUrl = 'https://identity.xero.com/connect/token'","    clientId = pm.variables.get('client_id'),","    clientSecret = pm.variables.get('client_secret'),","    refreshToken = pm.variables.get('refresh_token'),","    requestOptions = {","      method: 'POST',","      url: tokenUrl,","      body: {","        mode: 'formdata',","        formdata: [","            {","                key: 'grant_type',","                value: 'refresh_token'","            },","            {","                key: 'client_id',","                value: clientId","            },","            {","                key: 'client_secret',","                value: clientSecret","            },","            {","                key: 'refresh_token',","                value: refreshToken","            }","        ]","      }","    };","","console.log({ requestOptions });","","pm.sendRequest(requestOptions, (err, response) => {","  let jsonResponse = response.json(),","      newAccessToken = jsonResponse.access_token;","      newRefreshToken = jsonResponse.refresh_token;","      ","  console.log({ err, jsonResponse, newAccessToken, newRefreshToken })","  ","  pm.environment.set('access_token', newAccessToken);","  pm.environment.set('refresh_token', newRefreshToken);","  ","});"],"type":"text/javascript"}}],"id":"2ebb8c88-f8ec-44d6-a2b7-137aa1ef2dfc","request":{"method":"GET","header":[{"key":"xero-tenant-id","value":"{{xero-tenant-id}}","type":"text"},{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"},{"key":"Accept","value":"application/json","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"https://api.xero.com/api.xro/2.0/BrandingThemes","protocol":"https","host":["api","xero","com"],"path":["api.xro","2.0","BrandingThemes"]},"description":"\t"},"response":[],"uid":"2333627-2ebb8c88-f8ec-44d6-a2b7-137aa1ef2dfc"},{"name":"Refresh token","event":[{"listen":"test","script":{"type":"text/javascript","exec":["var data = JSON.parse(responseBody);","postman.setEnvironmentVariable(\"access_token\", data.access_token);","postman.setEnvironmentVariable(\"refresh_token\", data.refresh_token);","","tests[\"Access Token: \" + pm.environment.get(\"access_token\") + \" Refresh Token: \" + pm.environment.get(\"refresh_token\")] = true;"]}}],"id":"845b5ee2-ad18-41e9-853e-5dd1a2caf92e","request":{"method":"POST","header":[{"key":"grant_type","value":"refresh_token","type":"text"},{"key":"Content-Type","name":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"formdata","formdata":[{"key":"grant_type","value":"refresh_token","type":"text"},{"key":"refresh_token","value":"{{refresh_token}}","type":"text"},{"key":"client_id","value":"{{client_id}}","type":"text"},{"key":"client_secret","value":"{{client_secret}}","type":"text"}]},"url":{"raw":"https://identity.xero.com/connect/token?=","protocol":"https","host":["identity","xero","com"],"path":["connect","token"],"query":[{"key":"","value":""}]}},"response":[],"uid":"2333627-845b5ee2-ad18-41e9-853e-5dd1a2caf92e"}]}}